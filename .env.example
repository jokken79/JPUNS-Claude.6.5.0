# ============================================
# UNS-ClaudeJP 6.0.0 - Environment Variables
# ============================================
# IMPORTANTE: Copiar este archivo a .env y configurar valores reales
# cp .env.example .env

# ============================================
# GENERAL CONFIGURATION
# ============================================
PROJECT_NAME=UNS-ClaudeJP
VERSION=6.0.0
ENVIRONMENT=development  # development, production, test

# ============================================
# DATABASE (PostgreSQL)
# ============================================
POSTGRES_USER=uns_admin
POSTGRES_PASSWORD=CAMBIAR_EN_PRODUCCION_123!
POSTGRES_DB=uns_claudejp
POSTGRES_HOST=db
POSTGRES_PORT=5432

# Database URL para SQLAlchemy
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

# ============================================
# REDIS (Cache & Sessions)
# ============================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_URL=redis://${REDIS_HOST}:${REDIS_PORT}/${REDIS_DB}

# ============================================
# BACKEND (FastAPI)
# ============================================
BACKEND_HOST=0.0.0.0
BACKEND_PORT=8000
BACKEND_RELOAD=true  # Hot reload en desarrollo
WORKERS=4  # Número de workers Gunicorn

# Secret Key para JWT (CAMBIAR EN PRODUCCION)
SECRET_KEY=CAMBIAR_ESTA_CLAVE_SECRETA_EN_PRODUCCION_123456789
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# CORS
FRONTEND_URL=http://localhost:3000
CORS_ORIGINS=["http://localhost:3000","http://localhost:8000"]

# ============================================
# FRONTEND (Next.js)
# ============================================
NEXT_PUBLIC_API_URL=http://localhost:8000/api
NEXT_PUBLIC_APP_NAME=UNS-ClaudeJP
NEXT_PUBLIC_APP_VERSION=6.0.0
NEXT_PUBLIC_ENABLE_OCR=true
NEXT_PUBLIC_DEFAULT_THEME=default
NEXT_PUBLIC_DEFAULT_LANGUAGE=ja

# ============================================
# AZURE COMPUTER VISION (OCR)
# ============================================
# Obtener credenciales en: https://portal.azure.com
AZURE_CV_ENDPOINT=https://YOUR_RESOURCE_NAME.cognitiveservices.azure.com/
AZURE_CV_KEY=YOUR_AZURE_COMPUTER_VISION_KEY
AZURE_CV_REGION=japaneast

# ============================================
# OCR CONFIGURATION
# ============================================
# Proveedores: azure, easyocr, tesseract
OCR_PRIMARY_PROVIDER=azure
OCR_SECONDARY_PROVIDER=easyocr
OCR_FALLBACK_PROVIDER=tesseract

# EasyOCR
EASYOCR_LANGUAGES=["ja","en"]
EASYOCR_GPU=false

# Tesseract
TESSERACT_LANGUAGES=jpn+eng
TESSERACT_PATH=/usr/bin/tesseract

# ============================================
# FILE UPLOADS
# ============================================
UPLOAD_DIR=./uploads
MAX_UPLOAD_SIZE=10485760  # 10MB en bytes
ALLOWED_EXTENSIONS=["jpg","jpeg","png","pdf"]

# ============================================
# LOGGING
# ============================================
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FORMAT=json  # json, text
LOG_FILE=./logs/app.log
LOG_ROTATION=10 MB
LOG_RETENTION=30 days

# ============================================
# ADMINER (Database UI)
# ============================================
ADMINER_PORT=8080
ADMINER_DESIGN=nette

# ============================================
# NGINX (Reverse Proxy)
# ============================================
NGINX_PORT=80
NGINX_SSL_PORT=443

# ============================================
# GRAFANA (Monitoring)
# ============================================
GRAFANA_PORT=3001
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=CAMBIAR_EN_PRODUCCION_123!

# ============================================
# PROMETHEUS (Metrics)
# ============================================
PROMETHEUS_PORT=9090
PROMETHEUS_RETENTION_TIME=15d

# ============================================
# TEMPO (Distributed Tracing)
# ============================================
TEMPO_PORT=3200
TEMPO_OTLP_GRPC_PORT=4317
TEMPO_OTLP_HTTP_PORT=4318

# ============================================
# OPENTELEMETRY
# ============================================
OTEL_SERVICE_NAME=uns-claudejp
OTEL_EXPORTER_OTLP_ENDPOINT=http://otel-collector:4318
OTEL_TRACES_SAMPLER=always_on  # always_on, always_off, traceidratio
OTEL_TRACES_SAMPLER_ARG=1.0

# ============================================
# EMAIL (Opcional - para notificaciones)
# ============================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM=noreply@uns-claudejp.com
SMTP_TLS=true

# ============================================
# BACKUP
# ============================================
BACKUP_SCHEDULE=0 2 * * *  # Cron: 2 AM todos los días
BACKUP_RETENTION_DAYS=30
BACKUP_DIR=./backups
BACKUP_S3_ENABLED=false
BACKUP_S3_BUCKET=
BACKUP_S3_REGION=
BACKUP_S3_ACCESS_KEY=
BACKUP_S3_SECRET_KEY=

# ============================================
# SECURITY
# ============================================
# Habilitar HTTPS en producción
ENABLE_HTTPS=false
SSL_CERT_PATH=./certs/cert.pem
SSL_KEY_PATH=./certs/key.pem

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60

# Password Policy
MIN_PASSWORD_LENGTH=8
REQUIRE_UPPERCASE=true
REQUIRE_LOWERCASE=true
REQUIRE_DIGITS=true
REQUIRE_SPECIAL_CHARS=true

# ============================================
# FEATURES FLAGS
# ============================================
ENABLE_CANDIDATE_OCR=true
ENABLE_EMPLOYEE_IMPORT=true
ENABLE_SALARY_CALCULATION=true
ENABLE_REQUEST_WORKFLOW=true
ENABLE_THEME_CUSTOMIZATION=true
ENABLE_API_DOCS=true
ENABLE_METRICS=true
ENABLE_TRACING=true

# ============================================
# DEVELOPMENT
# ============================================
DEBUG=false
DEVELOPMENT_MODE=true
HOT_RELOAD=true
SHOW_SQL_QUERIES=false

# ============================================
# TESTING
# ============================================
TEST_DATABASE_URL=postgresql://test_user:test_pass@localhost:5432/test_db
TEST_REDIS_URL=redis://localhost:6379/1

# ============================================
# JAPANESE SPECIFIC
# ============================================
# Timezone
TZ=Asia/Tokyo

# Locale
LOCALE=ja_JP.UTF-8

# Default Japanese Fonts
DEFAULT_FONT_JAPANESE=Noto Sans JP
DEFAULT_FONT_ENGLISH=Inter

# ============================================
# SYSTEM LIMITS
# ============================================
MAX_CANDIDATES_PER_PAGE=50
MAX_EMPLOYEES_PER_PAGE=50
MAX_REQUESTS_PER_PAGE=50
MAX_CONCURRENT_OCR=5
MAX_SALARY_CALCULATIONS_PER_BATCH=100

# ============================================
# NOTES
# ============================================
# 1. CAMBIAR todas las contraseñas y secret keys en producción
# 2. Obtener credenciales de Azure Computer Vision en portal.azure.com
# 3. Configurar SMTP si necesitas notificaciones por email
# 4. Habilitar HTTPS y configurar certificados SSL en producción
# 5. Configurar backups a S3 para mayor resiliencia
# 6. Revisar rate limiting y security settings según tus necesidades
